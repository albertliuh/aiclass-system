# 微信答题考试系统开发需求

## 项目概述

开发一个在微信环境中运行的在线答题考试系统，支持导入题库、智能出题、考试管理等功能。

## 技术要求

- 适配微信环境（微信小程序或微信公众号H5页面）
- 前端：使用现代化框架（建议 Vue.js / React）
- 后端：轻量级后端服务（建议 Node.js / Python Flask）
- 数据存储：本地存储 + 云端存储（支持用户数据持久化）
- UI设计：简洁现代，良好的用户体验

## 核心功能需求

### 1. 题库导入功能

**需求描述：**

- 支持导入 CSV 格式的题库文件
- CSV 文件格式：
  - 第一行：标题行（序号、题型、题干、答案选项A、答案选项B、答案选项C、答案选项D、试题（选项E）、正确答案）
  - 其他行：实际题目内容
- 题目类型：单选题、多选题、判断题
- 总题量：约500题

**技术实现：**

- CSV 文件解析
- 数据验证和清洗
- 题库数据存储

### 2. 考试功能

#### 2.1 题目展示

- 按顺序展示题目
- 根据题型自动显示对应的答题控件：
  - 单选题：单选按钮（Radio）
  - 多选题：复选框（Checkbox）
  - 判断题：单选按钮（对/错）
- 清晰显示题干和选项
- 显示当前题号和总题数（如：1/500）

#### 2.2 答题交互

- 选择答案后，点击"下一题"按钮
- 点击后立即显示：
  - 本题正确答案
  - 用户答案是否正确
  - 自动记录答题结果（正确/错误）
- 随后显示下一题内容

#### 2.3 题目总览与跳转

- 提供"总览"按钮，可随时调出总览页面
- 总览页面显示：
  - 500道题的列表
  - 每道题的状态标识：
    - 已答题（绿色）
    - 答对（深绿色✓）
    - 答错（红色✗）
    - 未答题（灰色）
- 点击任意题号可直接跳转到对应题目

#### 2.4 交卷功能

- 提供"交卷"按钮
- 点击交卷时弹出确认提示
- 确认后统计并显示：
  - 总题数
  - 答对题数
  - 答错题数
  - 正确率（百分比）
  - 得分（可选）
- 显示答题详情报告

### 3. 智能题库管理

**需求描述：**

- 记录每道题的历史答题情况
- 对于同一道题，如果连续3次考试都答对，下次考试时该题不再出现
- 题目状态持久化存储

**技术实现：**

- 每道题关联答题历史记录
- 答题记录结构：
  ```
  题目ID: {
    连续答对次数: 0,
    历史记录: [{考试ID, 答题结果, 答题时间}]
  }
  ```
- 出题时过滤掉连续3次答对的题目
- 重置机制：答错后重置连续答对计数

### 4. 微信部署

**部署要求：**

- 方式一：开发微信小程序（推荐）

  - 注册微信小程序账号
  - 使用微信开发者工具开发
  - 提交审核后发布
- 方式二：微信公众号H5页面

  - 开发响应式H5页面
  - 通过公众号菜单或链接访问

**注意事项：**

- 确保在微信环境中正常运行
- 适配微信浏览器内核
- 处理微信授权和用户身份

## 数据结构设计

### 题目数据结构

```json
{
  "id": "题目序号",
  "type": "单选/多选/判断",
  "question": "题干内容",
  "options": {
    "A": "选项A内容",
    "B": "选项B内容",
    "C": "选项C内容",
    "D": "选项D内容",
    "E": "选项E内容（可选）"
  },
  "answer": "正确答案",
  "statistics": {
    "consecutiveCorrect": 0,
    "totalAttempts": 0,
    "correctAttempts": 0
  }
}
```

### 考试记录数据结构

```json
{
  "examId": "考试ID",
  "startTime": "开始时间",
  "endTime": "结束时间",
  "answers": [
    {
      "questionId": "题目ID",
      "userAnswer": "用户答案",
      "correctAnswer": "正确答案",
      "isCorrect": true/false
    }
  ],
  "score": {
    "total": 500,
    "correct": 450,
    "incorrect": 50,
    "accuracy": "90%"
  }
}
```

## UI/UX 设计要求

### 页面结构

1. **主页**

   - 导入题库按钮
   - 开始考试按钮
   - 历史成绩按钮
2. **考试页面**

   - 顶部：进度条（当前题号/总题数）
   - 中部：题目内容和选项
   - 底部：
     - 上一题按钮
     - 总览按钮
     - 下一题按钮
     - 交卷按钮
3. **总览页面**

   - 网格布局显示所有题号
   - 颜色编码显示答题状态
   - 点击题号跳转
4. **成绩报告页面**

   - 总体统计
   - 答题详情列表
   - 错题回顾
   - 重新考试按钮

### 设计原则

- 界面简洁明了
- 按钮大小适合触摸操作
- 色彩对比清晰
- 响应式布局，适配不同屏幕尺寸
- 流畅的动画过渡

## 开发步骤建议

### 第一阶段：基础功能

1. 搭建项目框架
2. 实现 CSV 文件解析和题库导入
3. 开发基础答题界面
4. 实现顺序答题流程

### 第二阶段：核心功能

1. 实现题目总览和跳转
2. 开发答题记录功能
3. 实现交卷和成绩统计
4. 添加答题结果即时反馈

### 第三阶段：智能功能

1. 实现答题历史记录
2. 开发智能出题算法（过滤连续3次答对的题）
3. 数据持久化存储

### 第四阶段：微信适配

1. 微信环境适配
2. 用户授权处理
3. 测试和优化
4. 部署上线

## 质量要求

### 功能质量

- 所有功能必须正常工作
- 答题逻辑准确无误
- 数据保存可靠

### 性能要求

- 页面加载流畅
- 答题交互响应迅速
- 500题数据处理高效

### 代码质量

- 遵循代码整洁之道
- 完善的错误处理
- 合理的代码结构
- 必要的注释说明

### 用户体验

- 操作流程顺畅
- 提示信息清晰
- 异常情况友好提示

## 可选增强功能（后期扩展）

1. **题库管理**

   - 在线编辑题目
   - 批量导入/导出
   - 题目分类管理
2. **考试模式**

   - 练习模式（不计入统计）
   - 考试模式（正式统计）
   - 限时考试
   - 错题集专项练习
3. **数据分析**

   - 答题趋势分析
   - 知识点掌握情况
   - 易错题统计
4. **社交功能**

   - 成绩分享
   - 排行榜
   - 组队PK

## 交付物

1. 完整的源代码
2. 部署文档
3. 用户使用说明
4. 示例题库 CSV 文件

---

**注意：** 请确保所有功能都在微信环境中经过充分测试，特别关注微信浏览器的兼容性问题。
